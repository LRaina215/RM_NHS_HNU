# 常用命令一览

## 开发调试最常用命令

```bash
# 首先设置环境变量
source /opt/ros/foxy/setup.bash

# 进入工作空间
cd ~/shaobing
colcon build

# 运行相机节点 (在新终端执行)
cd shaobing
source install/setup.bash
ros2 launch hik_camera hik_camera.launch.py

# 运行模型节点 (在新终端执行)
cd shaobing
source install/setup.bash
ros2 launch rm_description model.launch.py

# 运行串口节点 (在新终端执行)
cd shaobing
source install/setup.bash
ros2 launch bubble_protocol sentry_up_serial_launch.py

# 运行自动瞄准节点 (在新终端执行)
cd shaobing
source install/setup.bash
ros2 launch auto_aim_bringup auto_aim.launch.py
```

## 项目管理命令

### 编译相关
```bash
# 编译特定包
colcon build --symlink-install --packages-select armor_detector

# 清理编译产物
colcon build --symlink-install --cmake-clean-first
```

### 运行相关
```bash
# 运行自动瞄准脚本
cd ~/Algorithm/zxzzbp
chmod +x auto_aim.sh
./auto_aim.sh

# 查看运行的节点
ros2 node list

# 查看话题
ros2 topic list
ros2 topic echo /topic_name

# 查看服务
ros2 service list
```

## 文件操作命令

```bash
# 复制文件到远程
scp -r local_path robomaster@192.168.118.239:~/Algorithm/zxzzbp/

# 从远程复制文件
scp -r robomaster@192.168.118.239:~/Algorithm/zxzzbp/file_path local_path

# 创建目录
mkdir -p directory_path

# 删除文件/目录
rm -rf file_or_directory_path

# 查看文件内容
cat file_path
less file_path

# 编辑文件
nano file_path
vim file_path
```

## 系统管理命令

```bash
# 查看系统信息
hostnamectl
uname -a

# 查看进程
ps aux | grep keyword
top

# 杀死进程
kill -9 process_id

# 查看内存使用
df -h
free -h

# 网络配置
ifconfig
ip addr
ping ip_address

# 查看日志
cat /home/robomaster/log/*.log
tail -f /home/robomaster/log/log_file.log
```

## ROS2 常用命令

```bash
# 环境变量设置
source /opt/ros/humble/setup.bash
source install/setup.bash

# 运行launch文件
ros2 launch package_name launch_file_name.py

# 查看参数
ros2 param list
ros2 param get node_name param_name
ros2 param set node_name param_name value

# 录制和回放数据
ros2 bag record -a
ros2 bag play bag_file_name
```

## 开机自启相关

```bash
# 注册服务
cd ~/Algorithm/zxzzbp/Autostart
sudo ./register_service.sh

# 查看服务状态
systemctl status robo_watch_dog

# 启用/禁用服务
systemctl enable robo_watch_dog
systemctl disable robo_watch_dog

# 重启服务
systemctl restart robo_watch_dog
```

## 权限管理

```bash
# 添加执行权限
chmod +x file_path

# 更改所有者
chown user:group file_path

# 查看权限
ls -la
```
ros2 run plotjuggler plotjuggler
